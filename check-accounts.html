<\!DOCTYPE html>
<html>
<head>
    <title>Check Accounts</title>
</head>
<body>
    <h1>Check MOOSH Wallet Accounts</h1>
    <button onclick="checkAccounts()">Check Accounts</button>
    <button onclick="initializeAccount()">Initialize First Account</button>
    <pre id="output"></pre>
    
    <script>
        function checkAccounts() {
            const accounts = localStorage.getItem('mooshAccounts');
            const currentAccountId = localStorage.getItem('mooshCurrentAccountId');
            const sparkWallet = localStorage.getItem('sparkWallet');
            
            document.getElementById('output').textContent = JSON.stringify({
                accounts: accounts ? JSON.parse(accounts) : null,
                currentAccountId: currentAccountId,
                sparkWallet: sparkWallet ? JSON.parse(sparkWallet) : null,
                accountsLength: accounts ? JSON.parse(accounts).length : 0
            }, null, 2);
        }
        
        function initializeAccount() {
            // Get existing wallet data
            const sparkWallet = localStorage.getItem('sparkWallet');
            if (\!sparkWallet) {
                alert('No wallet found\! Generate a wallet first.');
                return;
            }
            
            const walletData = JSON.parse(sparkWallet);
            
            // Create first account
            const account = {
                id: 'account-' + Date.now(),
                name: 'Account 1',
                addresses: walletData.addresses,
                createdAt: new Date().toISOString(),
                isActive: true,
                balance: { confirmed: 0, unconfirmed: 0 }
            };
            
            // Save to localStorage
            localStorage.setItem('mooshAccounts', JSON.stringify([account]));
            localStorage.setItem('mooshCurrentAccountId', account.id);
            localStorage.setItem('mooshActiveAccounts', JSON.stringify([account.id]));
            
            alert('Account initialized\! Refresh the wallet page.');
            checkAccounts();
        }
    </script>
</body>
</html>
EOF < /dev/null
